/* Material '18 by MartonDev
  https://martondev.github.io/Material-Design-18/
  Licensed under the MIT license
 */

var navOpened = false;

$(document).ready(function() {

  Waves.init();
  Waves.attach('.waves-effect', ['waves-button', 'waves-float']);

  var navProtector = document.createElement("DIV");

  $(navProtector).addClass("nav-protector");
  $("#sidenav").after(navProtector);

  $("#menuTrigger").click(function() {

    if(navOpened) {

      $("#sidenav").css("width", "0");
      $("#main").css("margin-left", "0");
      $("footer").css("margin-left", "0");

      $("#menuTrigger .close").fadeOut();
      $("#menuTrigger .menu").fadeIn();

      navOpened = false;

    }else {

      $("#sidenav").css("width", "250px");
      $("#main").css("margin-left", "250px");
      $("footer").css("margin-left", "250px");

      $("#menuTrigger .menu").fadeOut();
      $("#menuTrigger .close").fadeIn();

      navOpened = true;

    }

  });

  $(".code").click(function() {

  	this.select();
  	document.execCommand("copy");

  });

});

jQuery(function($) {

  $('.field-input').focus(function() {

    $(this).parent().addClass('is-focused has-label');

    for(var i = 0; i < document.getElementsByClassName("character-counter").length; i++) {

      if($(document.getElementsByClassName("character-counter")[i]).attr("countChar") == $(this).attr("id")) {

        if($(this).parent().hasClass("success")) {

          $(document.getElementsByClassName("character-counter")[i]).css("color", "#64dd17");

        }else if($(this).parent().hasClass("warning")) {

          $(document.getElementsByClassName("character-counter")[i]).css("color", "#ffab00");

        }else if($(this).parent().hasClass("error")) {

          $(document.getElementsByClassName("character-counter")[i]).css("color", "#dd2c00");

        }else {

          $(document.getElementsByClassName("character-counter")[i]).css("color", "#1a73e8");

        }

      }

    }

  });

  $('.field-input').each(function() {

    if($(this).val() != '') {

      $(this).parent().addClass('has-label');

    }

  });

  $(".character-counter").each(function() {

    $(this).html("0");

  });

  $('input[type=text], input[type=email], input[type=tel], input[type=url], input[type=password], input[type=search], textarea').each(function() {

    $(this).keyup(function() {

      for(var i = 0; i < document.getElementsByClassName("character-counter").length; i++) {

        if($(document.getElementsByClassName("character-counter")[i]).attr("countChar") == $(this).attr("id")) {

          $(document.getElementsByClassName("character-counter")[i]).html($(this).val().length);

        }

      }

    });

  });

  $('.field-input').blur(function() {

    $parent = $(this).parent();

    if($(this).val() == '') {

      $parent.removeClass('has-label');

    }

    $parent.removeClass('is-focused');

    for(var i = 0; i < document.getElementsByClassName("character-counter").length; i++) {

      if($(document.getElementsByClassName("character-counter")[i]).attr("countChar") == $(this).attr("id")) {

        $(document.getElementsByClassName("character-counter")[i]).css("color", "#5f6368");

      }

    }

  });

})
